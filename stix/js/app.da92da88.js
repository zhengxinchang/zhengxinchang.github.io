(function(){"use strict";var t={4622:function(t,e,s){var a=s(144),l=s(1096),r=s(4437),i=s(4192),n=s(5057),o=s(2469),c=s(5294),u=s(9868),v=s(3347),d=s(3333),m=s(6287),h=function(){var t=this,e=t._self._c;return e(l.Z,{attrs:{app:""}},[e(u.Z,{staticClass:"py-2",staticStyle:{"border-bottom":"#7FC9C2FF solid 2px"},attrs:{width:"100%"}},[e(c.Z,[e(v.Z),e(r.Z,{attrs:{cols:"12",xl:"2",lg:"2",md:"2",sm:"12"}},[e(u.Z,{staticClass:"d-flex flex-row justify-center z-transparent",staticStyle:{"z-index":"999"}},[e(u.Z,{staticClass:"mx-1",attrs:{rounded:"",elevation:"8",height:"60",width:"60",dark:"",color:"teal"}},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.logo.img}})])],1)],1),e(r.Z,{attrs:{cols:"12",xl:"9",lg:"9",md:"9",sm:"12"}},[e(m.Z,{attrs:{centered:"",grow:"",color:t.$store.state.mainColorDarken}},[e(d.Z,{staticStyle:{"text-transform":"none"},attrs:{to:"/"}},[e(n.Z,[t._v("mdi-home-variant-outline")]),t._v("Home ")],1),e(i.Z,{staticClass:"mx-1",attrs:{vertical:"",inset:""}}),e(d.Z,{staticStyle:{"text-transform":"none"},attrs:{to:"/search"}},[e(n.Z,[t._v("mdi-magnify-expand")]),t._v("Query")],1)],1)],1),e(v.Z)],1)],1),e(u.Z,{staticClass:"z-transparent py-3",attrs:{"min-height":"600"}},[e("router-view")],1),e(u.Z,{staticClass:"footer d-flex justify-center"},[e(u.Z,{staticClass:"z-transparent",attrs:{width:"1200","min-height":"200"}},[e(c.Z,[e(r.Z,{attrs:{cols:"8",offset:"2"}},[e(c.Z,{attrs:{dense:""}},[e(r.Z,{attrs:{cols:"12",xl:"5",lg:"5",md:"5",sm:"12"}},[e(u.Z,{staticClass:"z-transparent d-flex flex-row justify-start",staticStyle:{"min-height":"100px","margin-top":"10px"}},[e(o.Z,{attrs:{height:"80",contain:"",src:s(1062)}}),e(o.Z,{attrs:{height:"100",width:"100",contain:"",src:s(3731)}})],1),e(u.Z,{staticClass:"z-transparent text-body-2"},[t._v(" Human Genome Sequencing Center"),e("br"),t._v(" ©1998-2023 Baylor College of Medicine® | One Baylor Plaza, Houston, Texas 77030 ")])],1),e(v.Z),e(r.Z,{attrs:{cols:"12",xl:"5",lg:"5",md:"5",sm:"12"}},[e(u.Z,{staticClass:"z-transparent",staticStyle:{"min-height":"100px","margin-top":"10px"}},[e(o.Z,{attrs:{height:"100",contain:"",src:s(2740)}})],1),e(u.Z,{staticClass:"z-transparent text-body-2"},[t._v(" University of Colorado Boulder"),e("br"),t._v(" © Regents of the University of Colorado ")])],1)],1)],1)],1)],1)],1)],1)},_=[],p={name:"App",data:()=>({logo:{href:"https://github.com/ryanlayer/stix",img:s(5952)}})},f=p,g=s(1001),Z=(0,g.Z)(f,h,_,!1,null,"d9ecace4",null),b=Z.exports,y=s(8345),x=s(3058),k=s(5223),w=s(3296),C=s(248),S=s(1908),q=s(6275),T=s(3741),P=s(268),O=function(){var t=this,e=t._self._c;return e(u.Z,[e(u.Z,{staticClass:"text-center",staticStyle:{"padding-bottom":"150px"},attrs:{color:"teal lighten-3"}},[e(c.Z,[e(v.Z),e(r.Z,{attrs:{cols:"11"}},[e(u.Z,{staticClass:"d-flex text-h4 z-transparent mt-2"},[t._v(" STIX: Ranking Structural Variation by Population Frequency Annotation ")]),e(x.Z,{staticClass:"mt-6 pa-2",attrs:{elevation:"8"}},[e(c.Z,[e(r.Z,{attrs:{cols:"12",lg:"7",md:"12",sm:"12",xl:"7"}},[e(c.Z,[e(r.Z,{attrs:{cols:"12"}},[e(x.Z,{staticStyle:{"text-align":"left"},attrs:{elevation:"0"}},[e(k.Qq,[e(n.Z,[t._v("mdi-turbine")]),t._v(" About ")],1),e(k.ZB,{staticClass:"text-justify"},[t._v(" STIX webserver is a platform for structural variant (SV) analysis, enabling population frequency estimation and variant prioritization using both short-read and long-read sequencing data. Unlike traditional methods that rely on variant calls, STIX indexes and searches raw alignments from thousands of samples, providing comprehensive SV annotation. "),e("br"),t._v(" STIX enables SV annotation by indexing both short-read and long-read alignments, allowing comprehensive population frequency estimation and variant analysis. It supports both GRCh38 and CHM13-T2T references, ensuring broad applicability across different genomic datasets. In addition to population frequency estimation, STIX facilitates SV prioritization, helping to distinguish common variants from potentially pathogenic ones and supporting the study of mosaic SVs. For more details, please refer to our publications. ")])],1)],1),e(r.Z,{attrs:{cols:"12"}},[e(x.Z,{attrs:{elevation:"0"}},[e(k.Qq,{staticClass:"text-left text-body-2"},[e(n.Z,{attrs:{small:""}},[t._v("mdi-information-outline")]),t._v(" To get the best experience, please visit us using the latest version of Google Chrome or Microsoft Edge. ")],1)],1)],1)],1)],1),e(r.Z,{attrs:{cols:"12",lg:"5",md:"12",sm:"12",xl:"5"}},[e(c.Z,[e(r.Z,{attrs:{cols:"12"}},[e(x.Z,{staticStyle:{"text-align":"left"},attrs:{elevation:"0"}},[e(k.Qq,[e(n.Z,[t._v("mdi-chart-bar-stacked")]),t._v(" Statistic ")],1),e(k.ZB,{staticStyle:{"min-height":"250px"}},[e(c.Z,[e(v.Z),e(r.Z,{attrs:{cols:"11"}},[e(c.Z,t._l(t.stats.data,(function(s){return e(r.Z,{key:s.name,staticClass:"pa-0",attrs:{cols:"12",lg:"6",md:"6",sm:"6",xl:"6"}},[e(w.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:a}){return[e(x.Z,{staticClass:"ma-1 d-flex justify-center",attrs:{elevation:a?4:0,to:s.to,height:"100",tile:""}},[e(u.Z,{staticClass:"pt-6"},[e(q.Z,{directives:[{name:"show",rawName:"v-show",value:null==t.stats.isShow,expression:"stats.isShow==null"}],attrs:{color:t.$store.state.mainColor,size:45,width:7,indeterminate:""}}),e("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.stats.isShow,expression:"stats.isShow !=null"}],staticClass:"text-h6",style:{color:t.$store.state.mainColor}},[e(n.Z,{attrs:{color:s.color}},[t._v(t._s(s.icon)+" mdi-36px")]),t._v(" "+t._s(s.num)+" ")],1),e(i.Z,{attrs:{dark:""}}),e("div",{staticClass:"text-center",style:{color:t.$store.state.mainColor},domProps:{innerHTML:t._s(s.name)}})],1)],1)]}}],null,!0)})],1)})),1)],1),e(v.Z)],1)],1)],1)],1)],1)],1)],1)],1)],1),e(v.Z)],1)],1),e(u.Z,{staticClass:"text-center",attrs:{color:"cyan lighten-3"}},[e(c.Z,[e(v.Z),e(r.Z,{attrs:{cols:"11"}},[e(c.Z,{attrs:{dense:""}},[e(r.Z,{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xl:"3"}},[e(x.Z,{style:{marginTop:t.changeOffset(t.$vuetify.breakpoint.name,t.isTop=!0,t.isTop2=!0)},attrs:{elevation:"8",height:"300"}},[e(k.Qq,{staticClass:"text-left"},[e(n.Z,[t._v("mdi-newspaper-variant-multiple-outline")]),t._v(" Updates ")],1),e(k.ZB,[e(u.Z,{staticClass:"overflow-y-auto mx-2",attrs:{height:"220"}},[e(T.Z,{attrs:{"align-top":"",dense:""}},t._l(t.news,(function(s,a){return e(P.Z,{key:a,attrs:{color:"teal lighten-1","fill-dot":"",icon:"mdi-star",small:""}},[e(c.Z,{staticClass:"mr-2",attrs:{justify:"space-between"}},[e(r.Z,{staticClass:"text-left",attrs:{cols:"12"}},[t._v(" "+t._s(s.date)+"   "+t._s(s.text)+" ")])],1)],1)})),1)],1)],1)],1)],1),e(r.Z,{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xl:"3"}},[e(x.Z,{style:{marginTop:t.changeOffset(t.$vuetify.breakpoint.name,t.isTop=!1)},attrs:{elevation:"8",height:"300"}},[e(k.Qq,{staticClass:"text-left"},[e(n.Z,[t._v("mdi-format-quote-open-outline")]),t._v(" Citations ")],1),e(k.ZB,{staticClass:"text-left"},[e(n.Z,{attrs:{small:""}},[t._v("mdi-format-quote-open-outline")]),t._v(" Chowdhury, M., Pedersen, B.S., Sedlazeck, F.J. et al. Searching thousands of genomes to classify somatic and novel structural variants using STIX. Nat Methods 19, 445–448 (2022). DOI:"),e("a",{attrs:{href:"https://www.nature.com/articles/s41592-022-01423-4",target:"_blank"}},[t._v("10.1038/s41592-022-01423-4")]),e("br"),e(n.Z,{attrs:{small:""}},[t._v("mdi-format-quote-open-outline")]),t._v(" Xinchang Zheng, Murad Chowdhury, Behzod Mirpochoev, Aaron Clauset, Ryan M Layer, Fritz J Sedlazeck. STIX: Long-reads based Accurate Structural Variation Annotation at Population Scale. BioRxiv DOI: "),e("a",{attrs:{href:"https://www.biorxiv.org/content/10.1101/2024.09.30.615931v1",target:"_blank"}},[t._v("10.1101/2024.09.30.615931v1")])],1)],1)],1),e(r.Z,{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xl:"3"}},[e(x.Z,{style:{marginTop:t.changeOffset(t.$vuetify.breakpoint.name,t.isTop=!1)},attrs:{elevation:"8",height:"300"}},[e(k.Qq,{staticClass:"text-left"},[e(n.Z,[t._v("mdi-link-variant")]),t._v(" Related Resources ")],1),e(k.ZB,[e(C.Z,{staticClass:"overflow-y-auto overflow-x-hidden",attrs:{"max-height":"220"}},t._l(t.relatedlinks,(function(s,a){return e(S.Z,{key:a,staticClass:"align--center",attrs:{href:s.href,target:"_blank"}},[e(u.Z,{staticClass:"text-left align--center"},[e(n.Z,{attrs:{small:""}},[t._v("mdi-link-variant")]),t._v("   "),e("span",{staticClass:"black--text text-body-2 font-weight-bold mr-3",staticStyle:{"white-space":"nowrap"}},[t._v(t._s(s.name))])],1)],1)})),1)],1)],1)],1),e(r.Z,{attrs:{cols:"12",lg:"3",md:"6",sm:"12",xl:"3"}},[e(x.Z,{style:{marginTop:t.changeOffset(t.$vuetify.breakpoint.name,t.isTop=!0,t.isTop2=!1)},attrs:{elevation:"8",height:"300"}},[e(k.Qq,{staticClass:"text-left"},[e(n.Z,[t._v("mdi-link")]),t._v(" Related resource ")],1),e(k.ZB,[e(C.Z,[e(S.Z,{attrs:{href:"https://www.internationalgenome.org/",target:"_blank"}},[e(n.Z,[t._v("mdi-link")]),t._v(" 1000 Genomes Project ")],1),e(S.Z,{attrs:{href:"https://gnomad.broadinstitute.org/",target:"_blank"}},[e(n.Z,[t._v("mdi-link")]),t._v(" gnomAD ")],1)],1)],1)],1)],1)],1)],1),e(v.Z)],1)],1)],1)},z=[],R={name:"Home",data(){return{news:[{date:"[Mar/4/2025]",text:"New front-end has been released"}],relatedlinks:[{href:"https://fritzsedlazeck.github.io/",icon:"mdi-link-variant",name:"Sedlazeck Lab"},{href:"https://ryanlayerlab.github.io/layerlab/",icon:"mdi-link-variant",name:"Layer Lab"},{href:"https://www.colorado.edu/faculty/clauset/",icon:"mdi-link-variant",name:"Clauset Lab"}],stats:{data:[{to:"#",name:"Samples",icon:"mdi-water",color:"red lighten-3",num:3108,fontsize:12},{to:"#",name:"Short-read samples",icon:"mdi-alpha-s-box",color:"cyan lighten-3",num:2e3,fontsize:12},{to:"#",name:"Ancestries",icon:"mdi-dna",color:"green lighten-3",num:5,fontsize:12},{to:"#",name:"Long-read samples",icon:" mdi-alpha-l-box",color:"blue lighten-3",num:1108,fontsize:12}],isShow:null}}},methods:{changeOffset(t,e=!1,s=!1){switch(t){case"lg":return"-120px";case"xl":return"-120px";case"xs":return s?"-120px":"12px";case"sm":return s?"-120px":"12px";default:return e?"-120px":"12px"}}},mounted(){setTimeout((()=>{this.stats.isShow=!0}),1e3)}},N=R,L=(0,g.Z)(N,O,z,!1,null,"700481fe",null),I=L.exports,$=s(1313),j=s(6878),M=s(6052),B=function(){var t=this,e=t._self._c;return e(u.Z,[e(c.Z,[e(v.Z),e(r.Z,{attrs:{cols:"11"}},[e($.Z,{attrs:{items:[{text:"STIX",disable:!0},{text:"Search",disable:!0}]}}),e(u.Z,[e(m.Z,{attrs:{color:t.$store.state.mainColorDarken,centered:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(d.Z,{staticStyle:{"text-transform":"none"}},[e(n.Z,[t._v("mdi-text-long")]),t._v(" Long Read Index ")],1),e(d.Z,{staticStyle:{"text-transform":"none"}},[e(n.Z,[t._v("mdi-text-short")]),t._v(" Short Read Index ")],1)],1),e(M.Z,{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(j.Z,[e("search-long-read")],1),e(j.Z,[t._v(" short-read ")])],1)],1)],1),e(v.Z)],1)],1)},A=[],D=s(7179),F=s(4944),Q=s(1302),V=s(8462),X=s(4397),E=s(5251),G=function(){var t=this,e=t._self._c;return e(c.Z,[e(r.Z,{attrs:{cols:"12",lg:"2",md:"3",sm:"12",xl:"2"}},[e(x.Z,{staticClass:"ma-1"},[e(k.Qq,[e(n.Z,[t._v("mdi-magnify")]),t._v(" Search ")],1),e(k.ZB,[e(V.Z,{staticClass:"mb-2",attrs:{items:t.opt_refver,dense:"","hide-details":"","item-text":"display","item-value":"val",label:"reference",outlined:""},model:{value:t.val_refver,callback:function(e){t.val_refver=e},expression:"val_refver"}}),e(E.Z,{staticClass:"mb-2",attrs:{dense:"","hide-details":"",label:"left-breakpoint",outlined:""},model:{value:t.val_left_break,callback:function(e){t.val_left_break=e},expression:"val_left_break"}}),e(E.Z,{staticClass:"mb-2",attrs:{dense:"","hide-details":"",label:"right-breakpoint",outlined:""},model:{value:t.val_right_break,callback:function(e){t.val_right_break=e},expression:"val_right_break"}}),e(V.Z,{staticClass:"mb-2",attrs:{items:t.opt_svtype,dense:"","hide-details":"","item-text":"display","item-value":"val",label:"SV Type",outlined:""},model:{value:t.val_svtype,callback:function(e){t.val_svtype=e},expression:"val_svtype"}}),e(E.Z,{staticClass:"mb-2",attrs:{dense:"","hide-details":"",label:"padding base pairs",outlined:""},model:{value:t.val_slop,callback:function(e){t.val_slop=t._n(e)},expression:"val_slop"}}),e(c.Z,[e(r.Z,{attrs:{cols:"12"}},[t._v(" Examples: "),e("a",{attrs:{href:"#"},on:{click:function(e){return t.add_example(t.examples[0])}}},[t._v(" #1 ")])])],1),e(c.Z,{attrs:{dense:""}},[e(r.Z,{attrs:{cols:"6"}},[e(D.Z,{attrs:{color:t.$store.state.mainColor,small:"",width:"100%"},on:{click:t.clear}},[e(n.Z,{attrs:{small:""}},[t._v("mdi-close")]),t._v(" clear ")],1)],1),e(r.Z,{attrs:{cols:"6"}},[e(D.Z,{attrs:{color:t.$store.state.mainColor,small:"",width:"100%"},on:{click:t.retrieve}},[e(n.Z,{attrs:{small:""}},[t._v("mdi-rocket")]),t._v(" Query ")],1)],1)],1)],1)],1),e(x.Z,{staticClass:"ml-1 mr-1 mt-5"},[e(k.Qq,[e(n.Z,[t._v("mdi-mailbox")]),t._v(" Message ")],1),e(k.ZB,[e(u.Z,{staticClass:"overflow-y-auto",attrs:{"max-height":"200","min-height":"200"}},[t._l(t.err_msg,(function(s,a){return e("div",{key:a,staticClass:"text-body-2"},[t._v(t._s(a+1)+": "+t._s(s))])})),t._l(t.msg,(function(s,a){return e("div",{key:a,staticClass:"text-body-2"},[t._v(t._s(s))])}))],2)],1)],1)],1),e(r.Z,{attrs:{cols:"12",lg:"10",md:"9",sm:"12",xl:"10"}},[e(x.Z,{staticClass:"ma-1"},[e(k.Qq,[e(n.Z,[t._v("mdi-book")]),t._v(" Result ")],1),e(k.ZB,[e(u.Z,{attrs:{"min-height":"600"}},[e(c.Z,[e(r.Z,{attrs:{cols:"12"}},[t._v("   "),e("b",[t._v("Query SV:")]),t._v("   "),e(F.Z,{directives:[{name:"show",rawName:"v-show",value:null!=t.results_query_sv.val_refver,expression:"results_query_sv.val_refver != null"}],staticClass:"mr-2",attrs:{color:t.$store.state.mainColor,label:"",small:""},on:{"click:close":function(e){return t.clean_val("refver")}}},[e("b",[t._v("Index")]),t._v("  "+t._s(t.results_query_sv.val_refver)+" ")]),e(F.Z,{directives:[{name:"show",rawName:"v-show",value:null!=t.results_query_sv.val_left_break,expression:"results_query_sv.val_left_break != null"}],staticClass:"mr-2",attrs:{color:t.$store.state.mainColor,label:"",small:""},on:{"click:close":function(e){return t.clean_val("left")}}},[e("b",[t._v("Left")]),t._v(" "+t._s(t.results_query_sv.val_left_break)+" ")]),e(F.Z,{directives:[{name:"show",rawName:"v-show",value:null!=t.results_query_sv.val_right_break,expression:"results_query_sv.val_right_break != null"}],staticClass:"mr-2",attrs:{color:t.$store.state.mainColor,label:"",small:""},on:{"click:close":function(e){return t.clean_val("right")}}},[e("b",[t._v("Right")]),t._v(" "+t._s(t.results_query_sv.val_right_break)+" ")]),e(F.Z,{directives:[{name:"show",rawName:"v-show",value:null!=t.results_query_sv.val_svtype,expression:"results_query_sv.val_svtype != null"}],staticClass:"mr-2",attrs:{color:t.$store.state.mainColor,label:"",small:""},on:{"click:close":function(e){return t.clean_val("svtype")}}},[e("b",[t._v("SV Type")]),t._v(" "+t._s(t.results_query_sv.val_svtype)+" ")]),e(F.Z,{directives:[{name:"show",rawName:"v-show",value:null!=t.results_query_sv.val_slop,expression:"results_query_sv.val_slop != null"}],staticClass:"mr-2",attrs:{color:t.$store.state.mainColor,label:"",small:""},on:{"click:close":function(e){return t.clean_val("slop")}}},[e("b",[t._v("Padding bp")]),t._v(" "+t._s(t.results_query_sv.val_slop)+" ")])],1)],1),e(c.Z,[e(r.Z,{attrs:{cols:"12"}},[e(Q.Z,{directives:[{name:"show",rawName:"v-show",value:t.is_loading,expression:"is_loading"}],attrs:{color:t.$store.state.mainColor,indeterminate:""}}),e(c.Z,[e(r.Z,{attrs:{cols:"8",lg:"8",md:"8",sm:"8",xl:"8",xs:"8"}},[e(u.Z,{directives:[{name:"show",rawName:"v-show",value:!t.is_loading,expression:"!is_loading "}],attrs:{height:"400"}},[e("v-chart",{staticClass:"chart",attrs:{option:t.plotOption}})],1)],1),e(r.Z,{attrs:{cols:"4",lg:"4",md:"4",sm:"4",xl:"4",xs:"4"}},[e(u.Z,{directives:[{name:"show",rawName:"v-show",value:!t.is_loading&&null!=t.results,expression:"!is_loading && results != null"}]},[e(c.Z,[e(r.Z,[e(E.Z,{attrs:{"append-icon":"mdi-plus",label:"Minimal Support Read",outlined:"",dense:""},on:{"click:append":function(e){t.min_reads+=1}},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[e(n.Z,{on:{click:function(e){t.min_reads-=1}}},[t._v("mdi-minus")])]},proxy:!0}]),model:{value:t.min_reads,callback:function(e){t.min_reads=e},expression:"min_reads"}})],1),e(r.Z)],1),e(X.Z,[e("thead",[e("th",[t._v("Population")]),e("th",[t._v("Frequency(%)")]),e("th",[t._v("Sample Size")])]),e("tbody",t._l(t.evidence_table,(function(s){return e("tr",[e("td",[t._v(t._s(s.category))]),e("td",[t._v(t._s(s.freq.toFixed(2)))]),e("td",[t._v(t._s(s.size))])])})),0)])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},H=[],U=(s(7658),s(6486)),J=s.n(U),Y=s(7066),K={name:"SearchLongRead",data(){return{opt_refver:[{display:"GRCh38",val:"lrgrch38"},{display:"CHM13-T2T",val:"lrchm13"}],opt_svtype:[{display:"Deletion",val:"DEL"},{display:"Insertion",val:"INS"},{display:"Duplication",val:"DUP"},{display:"Inversion",val:"INV"},{display:"Translocation",val:"BND"}],val_refver:null,val_left_break:null,val_right_break:null,val_svtype:null,val_slop:null,examples:[{val_refver:"lrgrch38",val_left_break:"1:964666-964676",val_right_break:"1:964744-964754",val_svtype:"DEL",val_slop:100}],err_msg:[],msg:[],results:null,results_query_sv:{val_refver:null,val_left_break:null,val_right_break:null,val_svtype:null,val_slop:null},is_loading:!1,long_read_meta:null,plotOption:{},evidence_stats:{},evidence_table:[],min_reads:5}},methods:{add_example(t){this.val_refver=t.val_refver,this.val_left_break=t.val_left_break,this.val_right_break=t.val_right_break,this.val_svtype=t.val_svtype,this.val_slop=t.val_slop},clear(){this.val_refver=null,this.val_left_break=null,this.val_right_break=null,this.val_svtype=null,this.val_slop=null,this.err_msg=[],this.msg=[]},clean_val(t){"refver"===t?this.val_refver=null:"slop"===t?this.val_slop=null:"svtype"===t?this.val_svtype=null:"left"===t?this.val_left_break=null:"right"===t&&(this.val_right_break=null)},validation(){this.err_msg=[],this.msg=[];let t=[];null==this.val_refver&&t.push("Reference"),null==this.val_left_break&&t.push("Left-breakpoint"),null==this.val_right_break&&t.push("Right-breakpoint"),null==this.val_svtype&&t.push("SV type"),null==this.val_slop&&t.push("Padding base pairs"),t.length>0&&this.err_msg.push(`Found empty values: ${t.join(", ")}`),J().isNumber(this.val_slop)&&this.val_slop>0||this.err_msg.push("Padding base pairs should be positive integer");const e=/^(?:chr)?([1-9]|1[0-9]|2[0-2]|X|Y|MT):(\d+)-(\d+)$/;function s(t){const s=t.match(e);if(s){const[,t,e,a]=s.map(Number);return e<=a}return!1}s(this.val_left_break)||this.err_msg.push('Left break format is not correct, please use format like "1:1682238-1686375" '),s(this.val_right_break)||this.err_msg.push('Right break format is not correct, please use format like "1:1682238-1686375" ')},loadLongReadMeta(){fetch("/long-read-meta.json").then((t=>t.json())).then((t=>{console.log(t),this.long_read_meta=t})).catch((t=>console.error("Can not load long-read-meta:",t)))},retrieve(){if(this.validation(),this.err_msg.length>0)return null;this.is_loading=!0,this.results={},this.msg=["querying SV"],this.results_query_sv.val_refver=this.val_refver,this.results_query_sv.val_left_break=this.val_left_break,this.results_query_sv.val_right_break=this.val_right_break,this.results_query_sv.val_svtype=this.val_svtype,this.results_query_sv.val_slop=this.val_slop;let t=`https://stix.colorado.edu/${this.val_refver}/`;Y.Z.get(t,{params:{left:this.val_left_break,right:this.val_right_break,svtype:this.val_svtype,slop:this.val_slop,raw:!0}}).then((t=>{this.msg=["result retrieved"],this.results=t.data&&t.data.results&&t.data.results.samples||null,this.is_loading=!1,this.postProcessResults(),this.processPlotData(),console.log(this.results)})).finally((()=>{this.is_loading=!1})),this.results},postProcessResults(){this.results=this.results.map((t=>{let e=t["Sample"].split(".")[0],s=t["Sample"].split(".")[1];t.realsample=e,t.source=s;let a=this.long_read_meta[e]||null;return null!=a?(t.Sex=a["Sex"],t.population=a["Population"],t.Super_population=a["Super_Population"]):(t.Sex=null,t.population=null,t.Super_population=null),t}))},processPlotData(){let t={},e={};this.results.forEach((s=>{t.hasOwnProperty(s["Split"])?t[s["Split"]]+=1:t[s["Split"]]=1,e.hasOwnProperty(s["Super_population"])||(e[s["Super_population"]]={}),e[s["Super_population"]].hasOwnProperty(s["Split"])?e[s["Super_population"]][s["Split"]]+=1:e[s["Super_population"]][s["Split"]]=1})),t=Object.entries(t).sort((([t],[e])=>Number(t)-Number(e))),console.log(t);let s=Object.fromEntries(t);console.log(s),console.log(e),this.evidence_stats={ALL:s,...e},console.log(this.evidence_stats),this.updateFreqTable();let a=[],l=[];for(const[r,i]of Object.entries(t))a.push(r),l.push(i);this.plotOption={title:{text:"Evidence depth histogram"},tooltip:{},xAxis:{data:a,name:"Evidence Depth(Support Reads)",nameLocation:"middle",nameGap:30,axisLabel:{rotate:0}},yAxis:{name:"Sample Count",nameLocation:"middle",nameGap:40},series:[{name:"Minimal Support Reads",type:"bar",data:l,markLine:{symbol:["none","none"],label:{formatter:"Minimal Support Reads"},lineStyle:{color:"#FF0000",type:"solid",width:2},data:[{xAxis:this.min_reads}]}}],toolbox:{show:!0,feature:{saveAsImage:{show:!0,title:"Save as Image",name:"evidence_depth_histogram",type:"png"}}}}},updateFreqTable(){this.evidence_table=[];for(const[t,e]of Object.entries(this.evidence_stats)){let s=0,a=0;for(const[t,r]of Object.entries(e))s+=Number(r),Number(t)>=this.min_reads&&(a+=Number(r));let l=a/s*100;this.evidence_table.push({category:t,size:s,hit:a,freq:l})}console.log(this.evidence_table)}},mounted(){this.loadLongReadMeta()},watch:{min_reads:{handler:function(t){t<=0&&(this.min_reads=1),this.updateFreqTable(),this.plotOption.series[0].markLine.data[0].xAxis=this.min_reads},immediate:!0,deep:!0}}},W=K,tt=(0,g.Z)(W,G,H,!1,null,"3bcd0fb2",null),et=tt.exports,st={name:"Search",components:{SearchLongRead:et},data(){return{tab:0}}},at=st,lt=(0,g.Z)(at,B,A,!1,null,"668f3064",null),rt=lt.exports,it=s(271),nt=function(){var t=this,e=t._self._c;return e(u.Z,[e(c.Z,[e(v.Z),e(r.Z,{attrs:{cols:"11"}},[e($.Z,{attrs:{items:[{text:"STIX",disable:!0},{text:"Batch Annotation",disable:!0}]}}),e(u.Z,{attrs:{elevation:"2",outlined:""}},[e(x.Z,[e(k.Qq,[t._v("submit a task")]),e(k.ZB,[e(c.Z,[e(r.Z,{attrs:{xl:"2",lg:"2",md:"3",sm:"12",cols:"12"}},[e(V.Z,{staticClass:"mb-2",attrs:{"hide-details":"",label:"Reference",outlined:"",dense:""}}),e(V.Z,{staticClass:"mb-2",attrs:{"hide-details":"",label:"Index",outlined:"",dense:""}}),e(E.Z,{staticClass:"mb-2",attrs:{"hide-details":"",outlined:"",dense:"",label:"email"}}),e(it.Z,{staticClass:"mb-2",attrs:{"hide-details":"",outlined:"",dense:"","prepend-icon":"",e:"",label:"vcf file",s:""}}),e(c.Z,{attrs:{dense:""}},[e(r.Z,{attrs:{cols:"6"}},[e(D.Z,{attrs:{width:"100%",color:t.$store.state.mainColor,small:""}},[e(n.Z,{attrs:{small:""}},[t._v("mdi-refresh")]),t._v(" reset")],1)],1),e(r.Z,{attrs:{cols:"6"}},[e(D.Z,{attrs:{width:"100%",color:t.$store.state.mainColor,small:""}},[e(n.Z,{attrs:{small:""}},[t._v("mdi-rocket")]),t._v(" submit")],1)],1)],1)],1),e(r.Z,{attrs:{xl:"10",lg:"10",md:"9",sm:"12",cols:"12"}})],1)],1)],1)],1)],1),e(v.Z)],1)],1)},ot=[],ct={name:"batchAnno",data(){return{tab:0}}},ut=ct,vt=(0,g.Z)(ut,nt,ot,!1,null,"3b2cf561",null),dt=vt.exports;a.ZP.use(y.ZP);const mt=[{path:"/",name:"home",component:I},{path:"/search",name:"search",component:rt},{path:"/batchanno",name:"batchanno",component:dt}],ht=new y.ZP({mode:"history",base:"/stix/",routes:mt});var _t=ht,pt=s(629);a.ZP.use(pt.ZP);var ft=new pt.ZP.Store({state:{mainColor:"#80CBC4",mainColorDarken:"#008080"},getters:{},mutations:{},actions:{},modules:{}}),gt=s(2250);a.ZP.use(gt.Z);var Zt=new gt.Z({icons:{iconfont:"mdi"}}),bt=s(4103),yt=s(6228),xt=s(9706),kt=s(3133),wt=s(8537),Ct=s(239);(0,Ct.D$)([yt.N,xt.N,kt.N,wt.N]),a.ZP.component("v-chart",bt.ZP),a.ZP.config.productionTip=!1,new a.ZP({router:_t,store:ft,vuetify:Zt,render:t=>t(b)}).$mount("#app")},1062:function(t,e,s){t.exports=s.p+"img/BCM.126f305e.png"},5952:function(t,e,s){t.exports=s.p+"img/STIX.2.5in.small.92ca6ea9.png"},3731:function(t,e,s){t.exports=s.p+"img/hgsc.8ba777d2.png"},2740:function(t,e,s){t.exports=s.p+"img/ucboulder-all.258fdcca.png"}},e={};function s(a){var l=e[a];if(void 0!==l)return l.exports;var r=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=t,function(){var t=[];s.O=function(e,a,l,r){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],l=t[u][1],r=t[u][2];for(var n=!0,o=0;o<a.length;o++)(!1&r||i>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[o])}))?a.splice(o--,1):(n=!1,r<i&&(i=r));if(n){t.splice(u--,1);var c=l();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,l,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){s.p="/stix/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var l,r,i=a[0],n=a[1],o=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(l in n)s.o(n,l)&&(s.m[l]=n[l]);if(o)var u=o(s)}for(e&&e(a);c<i.length;c++)r=i[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(u)},a=self["webpackChunkstix_frontend"]=self["webpackChunkstix_frontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4622)}));a=s.O(a)})();
//# sourceMappingURL=app.da92da88.js.map